[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "NYC Dogs",
    "section": "",
    "text": "1 Introduction\nIn the world, dogs are one of the most popular household pets if not the most popular. New York City takes this popularity even further. Anecdotally, sometimes there seem to be more dogs on the street than people, and dog walking businesses are thriving. As three dog lovers living in New York, we aim to study the unique aspects of dog ownership and behaviors in this city. In addition, we hope to investigate the potential relationships between dogs in the city and social factors in the city such as public green space, income, living situations, and mental health.\nSpecifically, we plan to explore insights about the New York City dog population and dog owners. First, we’re interested in geographic and time series trends regarding various aspects of dog ownership such as the following questions: most popular dog breeds, average age of dog at adoption, most popular names in each zip code. Next, we aim to consider macro social factors and how they relate to dog ownership: are dog ownership and income level related? What about age, housing type, mental health status? Finally, our goal is to consider factors of the city and trends in dog ownership to ascertain potential aspects of living in New York City that relate to individuals owning dogs. Some of the questions we have: Do people feel safer with dogs in their home? Would areas with higher crime rates have more dog ownership? Do neighborhoods with more public green space lead to more dog ownership in those areas? Do dog bite rates in neighborhoods deter dog ownership? Are many dogs in New York City adopted or do more people purchase their dogs from breeders? Ultimately, we’re curious about the specific trends in dog ownership in New York City, what social factors may relate to owning a dog, as well as the way living in New York City may affect dog ownership trends.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Introduction</span>"
    ]
  },
  {
    "objectID": "data.html",
    "href": "data.html",
    "title": "2  Data",
    "section": "",
    "text": "2.1 Description\nLink: https://data.cityofnewyork.us/Health/NYC-Dog-Licensing-Dataset/nu7n-tubp/about_data\nDescription: Our primary data source will be the NYC Dog Licensing Dataset from NYC Open Data. This data is provided by the Department of Mental Health and Hygiene. The data is collected as part of the DOHMH Dog Licensing System, where all NYC dog owners are required to apply for dog licenses. The data is updated annually and was last updated on February 6th, 2024. Each record represents a unique dog license that was active during the year and contains columns for the animal name, gender, birth year, and breed. We plan to import the data via the downloadable CSV on the NYC Open Data Website.\nThis dataset requires minimal cleansing. However, we may want to define broader categories for the breeds of licensed dogs. For example, we may choose to group these two, “American Pit Bull Terrier/Pit Bull” and “American Pit Bull Mix/ Pit Bull Mix” into one breed “American Pit Bull”.\nLink: https://data.census.gov/table?g=040XX00US36_050XX00US36005,36047&y=2023&d=ACS%201-Year%20Estimates%20Selected%20Population%20Profiles\nDescription: As mentioned in our introduction, we are looking to consider macro social factors and how they may relate to dog ownership. To inform this, we will leverage the robust US Census Bureau Data, filtering by the counties we are interested in - Staten Island, Kings (Brooklyn), Queens, New York, Bronx. The Census Bureau collects data through variety of sources, including from respondents directly. It also uses existing data from government agencies and commercial entities. The data is released annually. Each column represents one of our selected counties and a demographic within the county (i.e. “Bronx Females). There are seperate columns for value estimates, percent estimates, and margin of error. Each record represents a different characteristic of that demographic - for example”Median Household Income”. Using the Census Bureau website, we can filter the data and then export to CSV.\nThe dataset also includes a margin of error. Since census data is collected through a sampling method, the dataset provides us with an uncertainty level around the final estimate. Where necessary, we will include this margin of error in our final visualizations.\nLink: https://data.cityofnewyork.us/Health/DOHMH-Dog-Bite-Data/rsgh-akpg/about_data\nDescription: One of the questions we posed in our introduction was whether dog bite rates have any effect on rates of dog ownership. To answer this question, we will use the Dog Bite Dataset from NYC Open Data. This data was collected by the Department of Health and Mental Hygiene. It is updated as needed and was last updated on February 21, 2024. The NYC Health Code requires all dog bites be reported within 24 hours. Data is received via website, mail, fax or by phone to 311. Each record represents a unique dog bite incident and contains information on dog breed, age, gender and spay/neuter status where available. We plan to import the data via the downloadable CSV on the NYC Open Data Website.\nWe did discover that this dataset contains a high number of missing values for some of the dog characteristics. We will make note to avoid using these specific characteristics in our analysis.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Data</span>"
    ]
  },
  {
    "objectID": "data.html#description",
    "href": "data.html#description",
    "title": "2  Data",
    "section": "",
    "text": "NYC Dog Licensing Dataset via NYC Open Data\n\n\n\n\n\nUS Census Bureau Data\n\n\n\n\n\nDog Bite Dataset",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Data</span>"
    ]
  },
  {
    "objectID": "data.html#missing-value-analysis",
    "href": "data.html#missing-value-analysis",
    "title": "2  Data",
    "section": "2.2 Missing value analysis",
    "text": "2.2 Missing value analysis\n\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\n\nWarning: One or more parsing issues, call `problems()` on your data frame for details,\ne.g.:\n  dat &lt;- vroom(...)\n  problems(dat)\n\n\nRows: 616890 Columns: 8\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (5): AnimalName, AnimalGender, BreedName, LicenseIssuedDate, LicenseExpi...\ndbl (3): AnimalBirthYear, ZipCode, Extract Year\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n\n\n\n\n\n\n\n\nWithin the dog licensing data, we observed that around 9% of records are missing values for dog breed. This is within the acceptable range determined by the library and is understandable given that not all dog owners are confident in knowing the breed of their dog (for example, rescue dogs).\n\n\nCode\ndog_bite &lt;- read_csv(\"data/DOHMH_Dog_Bite_Data_20241119.csv\")\n\n\nRows: 26127 Columns: 9\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (7): DateOfBite, Species, Breed, Age, Gender, Borough, ZipCode\ndbl (1): UniqueID\nlgl (1): SpayNeuter\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n\nCode\ndog_bite$Gender[dog_bite$Gender == \"U\"] &lt;- NA\n\nplot_missing(dog_bite, title = \"Dog Bite Data\")\n\n\n\n\n\n\n\n\n\nIn the dog bite data, multiple columns contained missing data including breed, zip code, gender and age. Gender and age were not within the acceptable range of missing values, so we will avoid using these values in our analysis.\n\n\nCode\ncensus_median_income_data &lt;- read_csv(\"data/ACSST1Y2023.S2001-2024-11-20T015529.csv\")\n\n\nRows: 21 Columns: 73\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (55): Label (Grouping), Bronx County, New York!!Total!!Margin of Error, ...\nnum (18): Bronx County, New York!!Total!!Estimate, Bronx County, New York!!M...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n\nCode\nplot_missing(census_median_income_data, title = \"NYC Borough Median Income Data\")\n\n\n\n\n\n\n\n\n\nThe US Census Bureau Median Income Data we pulled is within the acceptable range of missing values. As mentioned, each column represents a county and a demographic within the county. There are separte columns for values, percentages and margins of error.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Data</span>"
    ]
  },
  {
    "objectID": "results.html",
    "href": "results.html",
    "title": "3  Results",
    "section": "",
    "text": "To begin our analysis, we explored dog ownership trends over time to draw conclusions on the growth of New York City’s dog population in relation to cultural shifts and world events.\nIn this portion of our analysis, we explored New York City’s dog population spatially to draw conclusions about the impact of geography on population characteristics.\n\n\nCode\ndog_license_count_by_zip &lt;- dog_license_data |&gt; \n  group_by(ZipCode) |&gt; \n  summarize(count = n()) |&gt; \n  arrange(desc(count)) |&gt; \n  mutate(ZipCode = as.character(ZipCode))\n\nzip_sf_with_dog_count &lt;- zip_code_sf |&gt; \n  left_join(dog_license_count_by_zip, by=\"ZipCode\")\n\nzip_sf_with_dog_ratio &lt;- zip_sf_with_dog_count |&gt; \n  mutate(dog_to_human_ratio = count / pop_est)\n\nggplot() +\n  geom_sf(data = zip_sf_with_dog_ratio, aes(fill=dog_to_human_ratio)) +\n  scale_fill_distiller(name = \"Dog-To-Human Population Ratio\", palette = \"Blues\", direction = 1) +\n  theme_void() +\n  theme(panel.grid = element_line(color=\"transparent\")) + \n  labs(title = \"What NYC neighborhoods have high dog ownership?\", caption = \"Figure 1\")\n\n\n\n\n\n\n\n\n\nFrom Figure 1, we observe that the zip codes with high ratios of licensed dog ownership tend to be in or in close proximity to Manhattan. The highest density zip code appears on the Upper West Side of Manhattan, a largely residential neighborhood. Density remains high in midtown and lower Manhattan, but is lower in Upper Manhattan. This trend is similar in Brooklyn. Neighborhoods closest to lower and midtown Manhattan have a high count of licensed dogs while neighborhoods deeper into Brooklyn and in Queens tend to have lower counts. Neighborhoods in Staten Island showed a high ratio of dog ownership as well. This graph, and in particular our observation on the Upper West Side, provoked us to ask another question. In the next figure, we explore the impact of green spaces on licensed dog population.\n\n\nCode\nmanhattan_boundary &lt;- borough_boundaries_sf |&gt; \n  filter(boro_name == \"Manhattan\")\n\nzip_sf_manhattan &lt;- st_intersection(zip_sf_with_dog_ratio, manhattan_boundary)\n\nopen_spaces_sf_manhattan &lt;- st_intersection(st_make_valid(open_spaces_sf), manhattan_boundary)\n\nmanhattan_plot &lt;- ggplot() +\n  geom_sf(data = zip_sf_manhattan, aes(fill=dog_to_human_ratio)) +\n  geom_sf(fill =  \"#99ff66\", data = open_spaces_sf_manhattan) +\n  scale_fill_distiller(name = \"Dog-To-Human-Ratio\", palette = \"Greys\", direction = 1) +\n  theme_void() +\n  theme(panel.grid = element_line(color=\"transparent\")) + \n  labs(title = \"Manhattan\")\n\nbrooklyn_boundary &lt;- borough_boundaries_sf |&gt; \n  filter(boro_name == \"Brooklyn\")\n\nzip_sf_brooklyn &lt;- st_intersection(zip_sf_with_dog_ratio, brooklyn_boundary)\n\nopen_spaces_sf_brooklyn &lt;- st_intersection(st_make_valid(open_spaces_sf), brooklyn_boundary)\n\nbrooklyn_plot &lt;- ggplot() +\n  geom_sf(data = zip_sf_brooklyn, aes(fill=dog_to_human_ratio)) +\n  geom_sf(fill = \"#99ff66\", data = open_spaces_sf_brooklyn) +\n  scale_fill_distiller(name = \"Dog-To-Human Ratio\", palette = \"Greys\", direction = 1) +\n  theme_void() +\n  theme(panel.grid = element_line(color=\"transparent\")) +\n  labs(title = \"Brooklyn\")\n\n(manhattan_plot | brooklyn_plot) +\n  plot_annotation(title = \"Does proximity to green space affect dog ownership?\", caption = \"Figure 2\")\n\n\n\n\n\n\n\n\n\nIn Manhattan, zip codes surrounding Central Park displayed the high ratios of dog ownership. Particularly the Upper West Side which is surrounded both by Central Park to the East and Riverside Park to the West. There were some zip codes of Manhattan which did not fit the pattern. At the North tip of Manhattan is two large parks - Inwood Hill Park and Fort Tyron Park. However the zip codes surrounding these had relatively low numbers of licensed dogs. In Brooklyn, the trend is equally apparent. Zip codes surrounding Prospect Park, the second largest park in Brooklyn, had the highest licensed dog populations. Zip codes surrounding the largest park, Marine Park, had slightly higher counts relative to surrounding neighborhoods in outer Brooklyn. There are also high count neighborhoods surrounding Dyker Beach Park in South Brooklyn and Fort Greene Park in North Brooklyn. Figure 2 led us to conclude that proximity to green space is correlated to dog population. This is a logical conclusion as being close to a green space allows ease of walking and socializing your pet. As we showed in the above two figures, geography has an impact on rates of dog ownership. We further wondered, does geography affect the most popular dog breeds?\n\n\nCode\ndog_license_breed_count_by_borough &lt;- dog_license_data |&gt; \n  mutate(BreedName = recode(BreedName, \"American Pit Bull Mix / Pit Bull Mix\" = \"Pit Bull Mix\", \"American Pit Bull Terrier/Pit Bull\" = \"Pit Bull Terrier\")) |&gt; \n  left_join(zip_code_to_borough, by=\"ZipCode\") |&gt; \n  filter(!is.na(Borough)) |&gt; \n  filter(BreedName != \"Unknown\") |&gt; \n  group_by(Borough, BreedName) |&gt; \n  summarize(count = n()) |&gt; \n  arrange(desc(count)) |&gt; \n  slice_head(n=5)\n\nggplot(dog_license_breed_count_by_borough, aes(x = count, y = reorder(BreedName,count))) +\n  geom_col(fill = \"skyblue\", color = \"black\") +\n  facet_wrap(~Borough, scales=\"free_y\") +\n  labs(title = \"What are the Most Popular Dog Breeds By Borough?\") +\n  labs(x = \"Count of Licensed Dogs\", y= \"Dog Breed\", caption = \"Figure 3\") +\n  scale_y_discrete(labels = function(x) str_wrap(x, width = 15)) +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\nFrom Figure 3 above, we observed that the popularity of dog breeds across boroughs is more alike than it is different. Every borough had Yorkshire Terrier as the most popular licensed dog breed, followed by Shih Tzu. Chihuahaus appeared in the top five for all boroughs. Both these breeds are small in size, and thus, are practical dogs to raise in densely populated areas. The Bronx was the only borough to not include Labrador Retrievers in the top five, instead showing high popularity of American Pit Bull Terrier mixes.\n\n\nCode\n# most popular dog breeds\ncounts_breed &lt;- dogs |&gt;\n  group_by(Year, BreedName) |&gt;\n  summarise(count = n()) |&gt;\n  mutate(proportion = count/ sum(count))\n\ncounts_breed &lt;- counts_breed %&gt;%\n  arrange(Year, proportion) \n\n# Sort the data by borough and year (optional)\ncounts_breed &lt;- counts_breed %&gt;%\n#  arrange(Year) |&gt; \n  mutate(BreedName = ifelse(proportion &lt; 0.02, \"Other\", BreedName)) %&gt;%  # Reassign low counts to \"Other\"\n  group_by(Year, BreedName) %&gt;%                                       # Group by the new breed categories\n  summarize(proportion = sum(proportion, na.rm = TRUE), .groups = \"drop\")  # Sum counts within each group\n\ncounts_breed_filtered &lt;- counts_breed %&gt;% filter(BreedName != \"Other\")\n\n#ggplot(counts_breed_filtered, aes(x = factor(Year), y = fct_rev(reorder(BreedName, BreedName)), fill = proportion)) +\n#  geom_tile() +\n#  scale_fill_gradient(low = \"cornflowerblue\", high = \"blue\") +\n#  labs(title = \"Heatmap of Top 10 Dog Breeds by Count\",\n#       x = \"Year\",\n #      y = \"Dog Breed\",\n#       fill = \"Proportion\") +\n#  theme_minimal()\n\npopular_breeds &lt;- ggplot(counts_breed_filtered, aes(x = factor(Year), y = fct_rev(reorder(BreedName, BreedName)))) +\n  geom_tile(aes(fill = proportion), color = \"white\") +\n  coord_fixed() + \n  scale_fill_gradient2(low = \"lightblue\",\n                       high = \"darkblue\") +\n  labs(title = \"Heatmap of Most Popular Breeds\",\n       x = \"Year\",\n       y = \"Dog Breed\",\n       fill = \"Proportion of Total Dogs in Year\") +\n  theme_minimal()\npopular_breeds \n\n\n\n\n\n\n\n\n\n\n\nCode\n# popular dog names overall\ndogs$AnimalName[dogs$AnimalName == \"UNKNOWN\"] &lt;- NA\ndogs$AnimalName[dogs$AnimalName == \"NOT PROVIDED\"] &lt;- NA\ndogs$AnimalName[dogs$AnimalName == \"NAME NOT PROVIDED\"] &lt;- NA\ndogs$AnimalName[dogs$AnimalName == \"NA\"] &lt;- NA\n\ncounts_name &lt;- dogs |&gt;\n  group_by(AnimalGender, AnimalName) |&gt;\n  summarise(count = n()) |&gt;\n  arrange(desc(count)) |&gt;\n  slice_head(n=10)\n\nfiltered_data_names_F &lt;- counts_name |&gt; filter(!is.na(AnimalName)) |&gt; filter(!is.na(AnimalGender)) |&gt; filter(AnimalGender == \"F\")\nfiltered_data_names_M &lt;- counts_name |&gt; filter(!is.na(AnimalName)) |&gt; filter(!is.na(AnimalGender)) |&gt; filter(AnimalGender == \"M\")\n\nnames_F &lt;- ggplot(filtered_data_names_F, aes(x = reorder(AnimalName, count), y = count)) +\n  geom_bar(stat = \"identity\", fill = \"skyblue\", color = \"black\") + # Bar chart\n  labs(title = \"Top 10 Most Popular Female Names, All Years\", x = \"Year\", y = \"Count\") +         # Labels\n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1)) # Tilt labels by 45 degrees\nnames_F\n\n\n\n\n\n\n\n\n\nCode\nnames_M &lt;- ggplot(filtered_data_names_M, aes(x = reorder(AnimalName, count), y = count)) +\n  geom_bar(stat = \"identity\", fill = \"skyblue\", color = \"black\") + # Bar chart\n  labs(title = \"Top 10 Most Popular Male Names, All Years\", x = \"Year\", y = \"Count\") +         # Labels\n  theme_minimal()+\n  theme(axis.text.x = element_text(angle = 45, hjust = 1)) # Tilt labels by 45 degrees\nnames_M\n\n\n\n\n\n\n\n\n\nCode\ncombined_plot &lt;- names_F + names_M + plot_layout(ncol = 2)\ncombined_plot\n\n\n\n\n\n\n\n\n\n\n\nCode\n# dog bite\n\ndog_bite &lt;- read_csv(\"data/DOHMH_Dog_Bite_Data_20241119.csv\")\n\ndog_bite$year &lt;- substr(dog_bite$DateOfBite, nchar(dog_bite$DateOfBite) - 3, nchar(dog_bite$DateOfBite))\n\ndog_bite &lt;- dog_bite |&gt; filter(year &gt;= \"2016\" & year &lt;= \"2022\")\n\n# DOG BITES - group together most popular dog breeds\ndog_bite$breedgroup &lt;- NA\ndog_bite$breedgroup[grepl(\"pit bull terrier\", dog_bite$Breed, ignore.case = TRUE)] &lt;- \"American Pit Bull Terrier/Pit Bull\"\ndog_bite$breedgroup[grepl(\"pit bull mix\", dog_bite$Breed, ignore.case = TRUE)] &lt;- \"American Pit Bull Mix / Pit Bull Mix\"\ndog_bite$breedgroup[grepl(\"chihuahua\", dog_bite$Breed, ignore.case = TRUE)] &lt;- \"Chihuahua\"\ndog_bite$breedgroup[grepl(\"labrador retriever\", dog_bite$Breed, ignore.case = TRUE)] &lt;- \"Labrador Retriever\"\ndog_bite$breedgroup[grepl(\"labrador retriever crossbreed\", dog_bite$Breed, ignore.case = TRUE)] &lt;- \"Labrador Retriever Crossbreed\"\ndog_bite$breedgroup[grepl(\"labrador retriever mix\", dog_bite$Breed, ignore.case = TRUE)] &lt;- \"Labrador Retriever Crossbreed\"\ndog_bite$breedgroup[grepl(\"maltese\", dog_bite$Breed, ignore.case = TRUE)] &lt;- \"Maltese\"\ndog_bite$breedgroup[grepl(\"goldendoodle\", dog_bite$Breed, ignore.case = TRUE)] &lt;- \"Goldendoodle\"\ndog_bite$breedgroup[grepl(\"golden doodle\", dog_bite$Breed, ignore.case = TRUE)] &lt;- \"Goldendoodle\"\ndog_bite$breedgroup[grepl(\"pomeranian\", dog_bite$Breed, ignore.case = TRUE)] &lt;- \"Pomeranian\"\ndog_bite$breedgroup[grepl(\"poodle crossbreed\", dog_bite$Breed, ignore.case = TRUE)] &lt;- \"Poodle Crossbreed\"\ndog_bite$breedgroup[grepl(\"poodle mix\", dog_bite$Breed, ignore.case = TRUE)] &lt;- \"Poodle Crossbreed\"\ndog_bite$breedgroup[grepl(\"shih tzu\", dog_bite$Breed, ignore.case = TRUE)] &lt;- \"Shih Tzu\"\ndog_bite$breedgroup[grepl(\"shih tzu crossbreed\", dog_bite$Breed, ignore.case = TRUE)] &lt;- \"Shih Tzu Crossbreed\"\ndog_bite$breedgroup[grepl(\"shih tzu mix\", dog_bite$Breed, ignore.case = TRUE)] &lt;- \"Shih Tzu Crossbreed\"\ndog_bite$breedgroup[grepl(\"yorkshire terrier\", dog_bite$Breed, ignore.case = TRUE)] &lt;- \"Yorkshire Terrier\"\n\nfiltered_bites &lt;- dog_bite |&gt; filter(!is.na(breedgroup))\n\ncounts_bite_group &lt;- filtered_bites |&gt;\n  group_by(year, breedgroup) |&gt;\n  summarise(count_bites = n())\n\ncounts_bite_group &lt;- rename(counts_bite_group, breed = breedgroup)\n\n# most popular dog breeds\ncounts_popular &lt;- dogs |&gt;\n  group_by(Year, BreedName) |&gt;\n  summarise(count_dogs = n(), .groups = \"drop\")\ncounts_popular &lt;- rename(counts_popular, breed = BreedName)\ncounts_popular &lt;- rename(counts_popular, year = Year)\n\n# only keep certain breeds\nfiltered_df &lt;- counts_popular |&gt;\n  filter(breed %in% c(\"American Pit Bull Terrier/Pit Bull\", \"American Pit Bull Mix / Pit Bull Mix\", \n                      \"Chihuahua\", \"Labrador Retriever\",\n                      \"Labrador Retriever Crossbreed\", \"Maltese\",\n                      \"Goldendoodle\", \"Pomeranian\", \"Poodle Crossbreed\",\n                      \"Shih Tzu Crossbreed\", \"Yorkshire Terrier\",\n                      \"Shih Tzu\"))\n\n\nmerged &lt;- merge(counts_bite_group, filtered_df, by = c(\"year\", \"breed\"))\n\nmerged &lt;- merged |&gt;\n  mutate(bite_pop_ratio = log(count_bites / count_dogs))\n\nlibrary(RColorBrewer)\n\nggplot(merged, aes(x = year, y = bite_pop_ratio, color = breed, group = breed)) +\n  geom_point(size=3, alpha=0.8, shape=17, stroke=1)  + \n  scale_colour_manual(values = rev(brewer.pal(12, \"Paired\")))+\n  labs(title = \"Time Series of Bites by Breed\",\n       x = \"Year\", y = \"Log of Bite-to-Population Ratio\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\n\n\nCode\ndogs &lt;- read_csv(\"data/NYC_Dog_Licensing_Dataset_20241119.csv\")\n\n\nWarning: One or more parsing issues, call `problems()` on your data frame for details,\ne.g.:\n  dat &lt;- vroom(...)\n  problems(dat)\n\n\nRows: 616890 Columns: 8\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (5): AnimalName, AnimalGender, BreedName, LicenseIssuedDate, LicenseExpi...\ndbl (3): AnimalBirthYear, ZipCode, Extract Year\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n\nCode\nzipcodes &lt;- read_csv(\"data/New_York_State_ZIP_Codes-County_FIPS_Cross-Reference.csv\")\n\n\nRows: 324 Columns: 6\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (3): County Name, County Code, File Date\ndbl (3): State FIPS, County FIPS, ZIP Code\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n\nCode\ncensus2023 &lt;- read_csv(\"data/US_census_2023NYC.csv\")\n\n\nRows: 345 Columns: 11\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (11): Label (Grouping), New York!!Total population!!Estimate, New York!!...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n\nCode\ncensus2023 &lt;- census2023[ c(1,2,4,6,8,10) ]\n\ncensus2023 &lt;- census2023[-c(1:6,40:46,64:232,266:345),]\n\ncensus_ages &lt;- census2023[c(2, 5:13),]\ncensus_households &lt;- census2023[c(35:50),]\ncensus_income &lt;- census2023[c(52:72),]\n\ntotal_pop_bronx &lt;- as.numeric(gsub(\",\",\"\", census_ages$`Bronx County, New York!!Total population!!Estimate`[1]))\ncensus_ages$`Bronx` &lt;- as.numeric(gsub(\"%\", \"\", census_ages$`Bronx County, New York!!Total population!!Estimate` )) / 100 * total_pop_bronx\n\n\nWarning: NAs introduced by coercion\n\n\nCode\ntotal_pop_kings &lt;- as.numeric(gsub(\",\",\"\", census_ages$`Kings County, New York!!Total population!!Estimate`[1]))\ncensus_ages$`Kings` &lt;- as.numeric(gsub(\"%\", \"\", census_ages$`Kings County, New York!!Total population!!Estimate`)) / 100 * total_pop_kings\n\n\nWarning: NAs introduced by coercion\n\n\nCode\ntotal_pop_ny &lt;- as.numeric(gsub(\",\",\"\", census_ages$`New York County, New York!!Total population!!Estimate`[1]))\ncensus_ages$`New York` &lt;- as.numeric(gsub(\"%\", \"\", census_ages$`New York County, New York!!Total population!!Estimate` )) / 100 * total_pop_ny\n\n\nWarning: NAs introduced by coercion\n\n\nCode\ntotal_pop_queens &lt;- as.numeric(gsub(\",\",\"\", census_ages$`Queens County, New York!!Total population!!Estimate`[1]))\ncensus_ages$`Queens` &lt;- as.numeric(gsub(\"%\", \"\", census_ages$`Queens County, New York!!Total population!!Estimate` )) / 100 * total_pop_queens\n\n\nWarning: NAs introduced by coercion\n\n\nCode\nages_long &lt;- select(census_ages, c(1,7:10))[c(2:10),]\n\nages_long &lt;- ages_long |&gt;\n  rename(ages = `Label (Grouping)`)\n\nages_long &lt;- ages_long |&gt;\n  pivot_longer(cols = `Bronx`:`Queens`, \n               names_to = \"Borough\", \n               values_to = \"Population\") \n\nggplot(ages_long, aes(x = Population, \n                      y = fct_reorder(ages, Population))) + \n  geom_point() +\n  facet_grid(fct_infreq(Borough) ~ ., scales = \"free_y\") + \n  theme(text = element_text(size = 8)) +\n  labs(title = \"Population Distribution by Age Group and Borough\",\n       x = \"Population\",\n       y = \"Age Group\") +\n  theme(legend.position = \"top\") \n\n\n\n\n\n\n\n\n\n\n\nCode\nhouseholds_long &lt;- select(census_households, c(1, 3:6))[c(2:3, 8, 10, 11, 13, 14),]\nhouseholds_long &lt;- households_long |&gt;\n  rename(household_type = `Label (Grouping)`)\n\nhouseholds_long$`Bronx County, New York!!Total population!!Estimate` &lt;- as.numeric(gsub(\"%\", \"\", households_long$`Bronx County, New York!!Total population!!Estimate`))\nhouseholds_long &lt;- households_long |&gt; rename(Bronx = `Bronx County, New York!!Total population!!Estimate`)\n\nhouseholds_long$`New York County, New York!!Total population!!Estimate` &lt;- as.numeric(gsub(\"%\", \"\", households_long$`New York County, New York!!Total population!!Estimate`))\nhouseholds_long &lt;- households_long |&gt; rename(Manhattan = `New York County, New York!!Total population!!Estimate`)\n\nhouseholds_long$`Kings County, New York!!Total population!!Estimate` &lt;- as.numeric(gsub(\"%\", \"\", households_long$`Kings County, New York!!Total population!!Estimate`))\nhouseholds_long &lt;- households_long |&gt; rename(Brooklyn = `Kings County, New York!!Total population!!Estimate`)\n\nhouseholds_long$`Queens County, New York!!Total population!!Estimate` &lt;- as.numeric(gsub(\"%\", \"\", households_long$`Queens County, New York!!Total population!!Estimate`))\nhouseholds_long &lt;- households_long |&gt; rename(Queens = `Queens County, New York!!Total population!!Estimate`)\n\nhouseholds_long &lt;- households_long |&gt;\n  pivot_longer(cols = `Bronx`:`Queens`, \n               names_to = \"Borough\", \n               values_to = \"Percentage\") \n\nfamilyhouseholds &lt;- households_long[c(1:4,9:12),]\n\nhousehold_plot1 &lt;- ggplot(familyhouseholds, aes(x = Borough, y = Percentage, fill = household_type)) +\n  geom_bar(stat = \"identity\") +  # Use actual values (percentage) for the bar heights\n  labs(\n    title = \"Household Composition by Borough\",\n    x = \"Borough\",\n    y = \"Percentage of Total Households\"\n  ) +\n  theme_minimal()\n\n\ndata &lt;- data.frame(\n  row_id = c(\"row1\", \"row2\"),\n  value = c(40, 30)\n)\n\nwithoutchildren_bronx &lt;- households_long$Percentage[1] - households_long$Percentage[5]\nwithoutchildren_manhattan &lt;- households_long$Percentage[3] - households_long$Percentage[7]\nwithoutchildren_brooklyn &lt;- households_long$Percentage[2] - households_long$Percentage[6]\nwithoutchildren_queens &lt;- households_long$Percentage[4] - households_long$Percentage[8]\n\n# Create a new row with the calculated difference\nwithoutchildren_bronx &lt;- data.frame(household_type = \"withoutchildren\", Borough = \"Bronx\", Percentage = withoutchildren_bronx)\nwithoutchildren_manhattan &lt;- data.frame(household_type = \"withoutchildren\", Borough = \"Manhattan\", Percentage = withoutchildren_manhattan)\nwithoutchildren_brooklyn &lt;- data.frame(household_type = \"withoutchildren\", Borough = \"Brooklyn\", Percentage = withoutchildren_brooklyn)\nwithoutchildren_queens &lt;- data.frame(household_type = \"withoutchildren\", Borough = \"Queens\", Percentage = withoutchildren_queens)\n\n\n# Add the new row to the original data\nhouseholds_long &lt;- rbind(households_long, withoutchildren_bronx)\nhouseholds_long &lt;- rbind(households_long, withoutchildren_brooklyn)\nhouseholds_long &lt;- rbind(households_long, withoutchildren_manhattan)\nhouseholds_long &lt;- rbind(households_long, withoutchildren_queens)\n\nspecificfamily &lt;- households_long[c(5:8,13:32),]\n\nspecificfamily &lt;- specificfamily|&gt;\n  group_by(Borough, household_type) |&gt;\n  summarize(Percentage = sum(Percentage), .groups = \"drop\")\n\nhousehold_plot2 &lt;- ggplot(specificfamily, aes(x = Borough, y = Percentage, fill = household_type)) +\n  geom_bar(stat = \"identity\") +\n  labs(\n    title = \"Household Composition by Borough\",\n    x = \"Borough\",\n    y = \"Percentage of Total Households\"\n  ) +\n  theme_minimal()\n\nhousehold_plot1\n\n\n\n\n\n\n\n\n\nCode\nhousehold_plot2\n\n\n\n\n\n\n\n\n\n\n\nCode\nincome_long &lt;- select(census_income, c(1, 3:6))[c(2:3, 5,7,9,11,13),]\nincome_long &lt;- income_long |&gt;\n  rename(income_type = `Label (Grouping)`)\n\nincome_long$`Bronx County, New York!!Total population!!Estimate` &lt;- as.numeric(gsub(\"%\", \"\", income_long$`Bronx County, New York!!Total population!!Estimate`))\n\n\nWarning: NAs introduced by coercion\n\n\nCode\nincome_long &lt;- income_long |&gt; rename(Bronx = `Bronx County, New York!!Total population!!Estimate`)\n\nincome_long$`New York County, New York!!Total population!!Estimate` &lt;- as.numeric(gsub(\"%\", \"\", income_long$`New York County, New York!!Total population!!Estimate`))\n\n\nWarning: NAs introduced by coercion\n\n\nCode\nincome_long &lt;- income_long |&gt; rename(Manhattan = `New York County, New York!!Total population!!Estimate`)\n\nincome_long$`Kings County, New York!!Total population!!Estimate` &lt;- as.numeric(gsub(\"%\", \"\", income_long$`Kings County, New York!!Total population!!Estimate`))\n\n\nWarning: NAs introduced by coercion\n\n\nCode\nincome_long &lt;- income_long |&gt; rename(Brooklyn = `Kings County, New York!!Total population!!Estimate`)\n\nincome_long$`Queens County, New York!!Total population!!Estimate` &lt;- as.numeric(gsub(\"%\", \"\", income_long$`Queens County, New York!!Total population!!Estimate`))\n\n\nWarning: NAs introduced by coercion\n\n\nCode\nincome_long &lt;- income_long |&gt; rename(Queens = `Queens County, New York!!Total population!!Estimate`)\n\nincome_long &lt;- income_long |&gt;\n  pivot_longer(cols = `Bronx`:`Queens`, \n               names_to = \"Borough\", \n               values_to = \"Percentage\") \n\nincome_percentage &lt;- income_long[c(5:28),]\n\nincome_plot &lt;- ggplot(income_percentage, aes(x = Borough, y = Percentage, fill = income_type)) +\n  geom_bar(stat = \"identity\", position = \"dodge\") +  # Use actual values (percentage) for the bar heights\n  labs(\n    title = \"Income Composition by Borough\",\n    x = \"Borough\",\n    y = \"Percentage of Total Income\"\n  ) +\n  theme_minimal()\n\nggplot(ages_long, aes(x = Population, \n                      y = fct_reorder(ages, Population))) + \n  geom_point() +\n  facet_grid(fct_infreq(Borough) ~ ., scales = \"free_y\") + \n  theme(text = element_text(size = 8)) +\n  labs(title = \"Population Distribution by Age Group and Borough\",\n       x = \"Population\",\n       y = \"Age Group\") +\n  theme(legend.position = \"top\") \n\n\n\n\n\n\n\n\n\nCode\nincome_dollars &lt;- census_income[c(2),]\n\nincome_dollars &lt;- income_dollars|&gt; rename(Queens = `Queens County, New York!!Total population!!Estimate`)\nincome_dollars &lt;- income_dollars|&gt; rename(Brooklyn = `Kings County, New York!!Total population!!Estimate`)\nincome_dollars &lt;- income_dollars|&gt; rename(Manhattan = `New York County, New York!!Total population!!Estimate`)\nincome_dollars &lt;- income_dollars|&gt; rename(Bronx = `Bronx County, New York!!Total population!!Estimate`)\n\n\nincome_dollars &lt;- income_dollars |&gt;\n  pivot_longer(cols = Bronx:Queens, \n               names_to = \"Borough\", \n               values_to = \"Income\")\nincome_dollars$Income &lt;- as.numeric(gsub(\",\",\"\", income_dollars$Income))/1000\n\nggplot(income_dollars, aes(x = Income, \n                      y = reorder(Borough, Income))) + \n  geom_point() +\n  labs(title = \"Median Income by Borough\",\n       x = \"Income in $1,000s\",\n       y = \"Borough\") +\n  theme(legend.position = \"top\") \n\n\n\n\n\n\n\n\n\nCode\nincome_plot",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Results</span>"
    ]
  }
]